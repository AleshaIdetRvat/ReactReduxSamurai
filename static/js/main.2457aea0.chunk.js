(this.webpackJsonpnewrr=this.webpackJsonpnewrr||[]).push([[0],{144:function(e,t,n){},165:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(36),c=n(6),i=(n(144),n(12)),o=n(25),u=n(4),l=n.n(u),d=n(7),j=n(2),b=n(66),h=n.n(b),p=h.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"cebb09d0-fe2a-4f47-8835-31a231006854"}}),f={getCaptcha:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("security/get-captcha-url");case 3:return t=e.sent,e.abrupt("return",t.data.url);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},m=function(){return new Promise((function(e,t){p.get("auth/me").then((function(n){n.data.resultCode?t(n.data.messages[0]):e(n.data.data)})).catch((function(e){return t(e)}))}))},g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(a,s){p.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){0===e.data.resultCode?a(e.data.data):s([e.data.resultCode,e.data.messages[0]])})).catch((function(e){return s(e)}))}))},O=function(){return new Promise((function(e,t){p.delete("auth/login").then((function(n){n.data.resultCode?t(n.data.messages[0]):e(n.data.data)})).catch((function(e){return t(e)}))}))},x={uploadAvatar:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.prev=2,e.next=5,p.put("profile/photo",n,{"Content-Type":"multipart/form-data"});case 5:if(0!==(r=e.sent).data.resultCode){e.next=10;break}return e.abrupt("return",r.data.data.photos);case 10:throw new Error(r.data.resultCode);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),requestProfileData:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("profile/".concat(t||2));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),requestProfileStatus:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("profile/status/".concat(t||2));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProfInfo:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.put("profile",t);case 3:if(0===e.sent.data.resultCode){e.next=6;break}throw new Error("some error occured");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),updateProfileStatus:function(e){return new Promise((function(t,n){p.put("profile/status",{status:e}).then((function(e){e.data.resultCode||t(e.data.data)})).catch((function(e){return n(e)}))}))}},v={requestUsersData:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,n=a.length>1&&void 0!==a[1]?a[1]:6,e.next=4,p.get("users?page=".concat(t,"&count=").concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),requestFollow:function(e){return new Promise((function(t,n){p.post("follow/".concat(e),{}).then((function(e){e.data.resultCode||t(e.data.data)})).catch((function(e){return n(e)}))}))},requestUnfollow:function(e){return new Promise((function(t,n){p.delete("follow/".concat(e)).then((function(e){0!==e.data.resultCode?t(e.data.data):n("My_Error")}))}))}},_="authreducer/SET_USER_DATA",F="authreducer/SET_CAPTCHA",w="authreducer/SET_ERROR",y="authreducer/SET_FETCHING",k={userId:null,email:null,login:null,isAuth:!1,captcha:null,authError:null,isFetching:!1},A=function(e){return{type:y,flag:e}},S=function(e){return{type:F,url:e}},N=function(e){return{type:w,errorMsg:e}},C=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{type:_,data:{userId:e,email:t,login:n,isAuth:r}}},P=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:n=e.sent,t(C(n.id,n.email,n.login)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(N(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(e){e(A(!0)),O().then((function(t){e(C(null,null,null,!1)),window.history.pushState("","","#/login")})).catch((function(e){console.error(e)})).finally((function(){e(A(!1))}))}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(j.a)(Object(j.a)({},e),t.data);case F:return Object(j.a)(Object(j.a)({},e),{},{captcha:t.url});case w:return Object(j.a)(Object(j.a)({},e),{},{authError:t.errorMsg});case y:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.flag});default:return e}},I=n(15),T="ADD-MESSAGE",M="UPDATE-NEW-MESSAGE",U={usersData:[{name:"Ivan Ivanov",id:"1"},{name:"Petya Kozlov",id:"2"},{name:"Nina Shpagina",id:"3"}],usersMsgData:[{text:"tempText",id:"1",myMsg:!0},{text:"tempText",id:"2",myMsg:!1},{text:"tempText",id:"3",myMsg:!1},{text:"tempText",id:"4",myMsg:!1},{text:"tempText",id:"5",myMsg:!0},{text:"tempText",id:"6",myMsg:!1},{text:"tempText",id:"7",myMsg:!0},{text:"tempText",id:"8",myMsg:!1}]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:if(""!=t.msg){var n={text:t.msg,id:"4",myMsg:!0};return Object(j.a)(Object(j.a)({},e),{},{usersMsgData:[].concat(Object(I.a)(e.usersMsgData),[n])})}return e;case M:return Object(j.a)(Object(j.a)({},e),{},{innerInput:t.newText});default:return e}},z="profile/ADD-POST",q="profile/DELETE-POST",B="profile/SET_USER_PROFILE",G="profile/SET_STATUS",R="profile/TOGGLE_SET_FETHING",H="profile/SET_AVATAR",J={postsData:[{id:1,likes_count:"34",message:"Hello everybody"},{id:2,likes_count:"5",message:"How are they?"}],userProfileData:{AboutMe:"",contacts:null,lookingForAJob:!1,LookingForAJobDescription:"",FullName:"",photos:{small:"",large:""},isMyProfile:!1},isFetching:!0,status:""},W=function(e){return{type:B,userData:e}},V=function(e){return{type:H,photos:e}},$=function(e){return{type:G,status:e}},Y=function(e){return{type:R,isFetching:e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(j.a)(Object(j.a)({},e),{},{photos:t.photos});case G:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case B:return Object(j.a)(Object(j.a)({},e),{},{userProfileData:Object(j.a)(Object(j.a)({},e.userProfileData),t.userData)});case R:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case z:if(""!==t.newPost){var n={likes_count:"0",message:t.newPost,id:e.postsData.length+1};return Object(j.a)(Object(j.a)({},e),{},{postsData:[].concat(Object(I.a)(e.postsData),[n])})}return e;case q:return Object(j.a)(Object(j.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});default:return e}},X="TOGGLE_IS_OPEN",Z={isOpen:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(j.a)(Object(j.a)({},e),{},{isOpen:!e.isOpen})}return e},ee="userPage/FOLLOW",te="userPage/UNFOLLOW",ne="userPage/SET_USERS",re="userPage/SET_CURRENT_PAGE",ae="userPage/FETCHING_DATA",se="userPage/END_FETCHING_DATA",ce="userPage/TOGGLE_FOLLOW_IN_PROGRESS",ie={users:[],pageSize:6,currentPage:1,totalUsersCount:0,isFetchingData:!0,followingInProgressState:[]},oe=function(e,t){return{type:ce,userId:t,isFetching:e}},ue=function(){return{type:ae}},le=function(e){return{type:ee,userId:e}},de=function(e){return{type:te,userId:e}},je=function(e){return{type:ne,users:e}},be=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(oe(!0,t)),e.prev=1,"follow"!==n){e.next=8;break}return e.next=5,v.requestFollow(t);case 5:r(le(t)),e.next=12;break;case 8:if("unfollow"!==n){e.next=12;break}return e.next=11,v.requestUnfollow(t);case 11:r(de(t));case 12:r(oe(!1,t)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(j.a)(Object(j.a)({},e),{},{followingInProgressState:t.isFetching?[].concat(Object(I.a)(e.followingInProgressState),[t.userId]):e.followingInProgressState.filter((function(e){return e!=t.userId}))});case ae:return Object(j.a)(Object(j.a)({},e),{},{isFetchingData:!0});case se:return Object(j.a)(Object(j.a)({},e),{},{isFetchingData:!1});case re:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.page});case ee:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return t.userId===e.id?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case te:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return t.userId===e.id?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case ne:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});default:return e}},pe=n(126),fe="INITIALIZE_SUCCES",me={initialize:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(j.a)(Object(j.a)({},e),{},{initialize:!0});default:return e}},Oe=function(){var e=0;return function(){return++e}}(),xe={getNews:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",url:"https://newsapi.org/v2/everything",params:{q:"apple",from:"2021-11-06",to:"2021-11-06",sortBy:"relevancy",apiKey:"fdb221eb5b83436ca4e2d455f845a5d4",page:Oe(),pageSize:"10"}},e.prev=1,e.next=4,h.a.request(t);case 4:return n=e.sent,e.abrupt("return",n.data.articles);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},ve="SET_NEWS",_e={news:[]},Fe=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.getNews();case 2:(n=e.sent)&&0!==n.length&&(r=n.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{publishedAt:new Date(e.publishedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}).split(" ").join("-")})})),t({type:ve,payload:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(j.a)(Object(j.a)({},e),{},{news:[].concat(Object(I.a)(e.news),Object(I.a)(t.payload))});default:return e}},ye=Object(i.c)({Messages:L,Profile:K,Sidebar:Q,UsersPage:he,Auth:E,App:ge,News:we}),ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Ae=Object(i.e)(ye,ke(Object(i.a)(pe.a)));window.reduxStore=Ae;var Se,Ne=Ae,Ce=n(19),Pe=n(11),De=(n(165),n(0)),Ee=function(e){var t=e.isAuth,n=e.login,r=e.className,a=e.logoutThunkCreator,s=Object(c.c)(),i=Object(c.d)((function(e){return e.Sidebar.isOpen}));return Object(De.jsx)("header",{className:"header ".concat(r),children:Object(De.jsx)("div",{className:"header__body",children:Object(De.jsxs)("div",{className:"header__grid",children:[Object(De.jsx)("div",{className:"header__logo header-logo",children:Object(De.jsxs)("span",{className:"header-logo__text",children:[Object(De.jsx)("i",{className:"header-logo__letter1",children:"S"}),Object(De.jsx)("i",{className:"header-logo__letter2",children:"N"})]})}),Object(De.jsx)("div",{className:"header__login header-login",children:Object(De.jsx)("div",{className:"header-login__body",children:Object(De.jsx)(Ce.b,{to:"/login",children:t?n:""})})}),t&&Object(De.jsx)("div",{class:"logout",children:Object(De.jsx)("button",{class:"login-btn",onClick:a,children:"Logout"})}),Object(De.jsx)("button",{onClick:function(){return s({type:X,isOpen:e});var e},className:"login-btn__menu-burger menu-burger ".concat(i?"menu-burger--open":""),children:Object(De.jsx)("div",{className:"menu-burger__body ",children:Object(De.jsx)("div",{className:"menu-burger__middle-stick"})})})]})})})},Ie=Object(c.b)((function(e){return{isAuth:e.Auth.isAuth,login:e.Auth.login}}),{logoutThunkCreator:D})((function(e){return Object(De.jsx)(Ee,Object(j.a)({},e))})),Te=(n(168),Object(c.b)((function(e){return{UserId:e.Auth.userId}}),{})((function(e){var t=Object(c.d)((function(e){return e.Sidebar.isOpen}));return Object(De.jsx)("nav",{class:"sidebar ".concat(t?"menu--open":""),children:Object(De.jsx)("div",{class:"sidebar__body",children:Object(De.jsxs)("ul",{class:"sidebar__grid",children:[Object(De.jsx)(Ce.b,{activeClassName:"selected",to:"/profile/".concat(e.UserId),className:"sidebar__item",children:Object(De.jsx)("span",{children:"Profile"})}),Object(De.jsx)(Ce.b,{activeClassName:"selected",to:"/dialogs",className:"sidebar__item",children:Object(De.jsx)("span",{children:"Messages"})}),Object(De.jsx)(Ce.b,{activeClassName:"selected",to:"/users",className:"sidebar__item",children:Object(De.jsx)("span",{children:"Find Users"})}),Object(De.jsx)(Ce.b,{activeClassName:"selected",to:"/news",className:"sidebar__item",children:Object(De.jsx)("span",{children:"News"})})]})})})}))),Me=n(128),Ue=(n(169),function(e){var t=e.author,n=e.title,r=e.description,a=e.urlToImage,s=e.publishedAt,c=e.url,i=document.createElement("div");i.innerHTML=r;var o=i.innerText;return Object(De.jsx)("article",{className:"news-article",children:Object(De.jsx)("div",{className:"news-article__body",children:Object(De.jsxs)("div",{className:"news-article__row",children:[Object(De.jsx)("div",{className:"news-article__content article-content",children:Object(De.jsxs)("div",{className:"article-content__grid",children:[Object(De.jsx)("h2",{className:"article-content__title",children:n}),Object(De.jsxs)("div",{className:"article-content__desc",children:[o,","," ",Object(De.jsx)("a",{className:"article-content__desc",target:"_blank",rel:"noreferrer",href:c,children:"See more"})]}),Object(De.jsxs)("div",{className:"article-content__author",children:["Author: ",Object(De.jsx)("i",{children:t})]}),Object(De.jsx)("div",{className:"article-content__date",children:s})]})}),Object(De.jsx)("div",{className:"news-article__image-container",children:Object(De.jsx)("img",{className:"news-article__image",src:a,alt:"news-image"})})]})})})}),Le=function(){var e=Object(c.d)((function(e){return e.News.news})),t=Object(c.c)();console.log(e);var n=Object(r.useState)(!0),a=Object(o.a)(n,2),s=(a[0],a[1]);Object(r.useEffect)((function(){t(Fe())}),[]);return Object(De.jsx)(De.Fragment,{children:Object(De.jsxs)("div",{className:"news",children:[Object(De.jsx)("h1",{className:"news__title",children:"News"}),Object(De.jsx)(Me.a,{className:"news__container",style:{overflow:"unset"},dataLength:e.length,next:function(){e.length>=1e3?s(!1):t(Fe())},hasMore:!0,loader:Object(De.jsx)("h4",{style:{textAlign:"center"},children:"Loading..."}),endMessage:Object(De.jsx)("p",{style:{textAlign:"center"},children:Object(De.jsx)("b",{children:"Yay! You have seen it all"})}),children:e.map((function(e,t){return Object(r.createElement)(Ue,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})]})})},ze=(n(170),function(e){return Object(De.jsx)(Ce.b,{to:"/dialogs/"+e.personId,children:Object(De.jsxs)("div",{class:"dial-sidebar__people people-dialog",children:[Object(De.jsx)("div",{div:!0,class:"people-dialog__icon"}),Object(De.jsx)("div",{class:"people-dialog__name",children:Object(De.jsx)("span",{children:e.Name})})]})})}),qe=(n(171),n(172),function(e){return Object(De.jsx)("div",{class:e.myMsg?"messageS__item message my-message":"messageS__item message",children:Object(De.jsx)("div",{class:"message__body",children:Object(De.jsx)("div",{class:"message__text",children:e.Text})})})}),Be=n(299),Ge=n(297),Re=n(135),He=(n(173),function(e){var t=e.touched,n=e.error,r=e.isHorizontal,a=void 0!==r&&r,s=e.isInput,c=void 0!==s&&s,i=Object(Re.a)(e,["touched","error","isHorizontal","isInput"]),o=t&&n;return Object(De.jsxs)("div",{class:"my-textarea",children:[c?Object(De.jsx)("input",Object(j.a)({},i)):Object(De.jsx)("textarea",Object(j.a)({},i)),o&&Object(De.jsx)("span",{class:"my-textarea__error-".concat(a?"horizontal":"vertical"),children:n})]})}),Je=function(e){if(!e)return"Field is required"},We=(Se=20,function(e){if(e&&e.length>Se)return"Max lenght is ".concat(Se," symbols")}),Ve=Object(Ge.a)({form:"newMsg"})((function(e){e.onSubmit;var t=e.handleSubmit;return Object(De.jsxs)("form",{onSubmit:t,class:"send__grid",children:[Object(De.jsx)(Be.a,{isInput:!0,component:He,validate:[Je,We],name:"message",type:"text",placeholder:"Your message",class:"send__input"}),Object(De.jsx)("button",{class:"send__btn",children:"Send"})]})})),$e=function(e){var t=e.dialogsData,n=e.addMsg,r=t.usersData.map((function(e){return Object(De.jsx)(ze,{Name:e.name,personId:e.id},e.id)})),a=t.usersMsgData.map((function(e){return Object(De.jsx)(qe,{Text:e.text,myMsg:e.myMsg},e.id)}));return Object(De.jsx)("div",{class:"dialogs",children:Object(De.jsx)("div",{class:"dialogs__body",children:Object(De.jsxs)("div",{class:"dialogs__grid",children:[Object(De.jsx)("div",{class:"dialogs__sidebar dial-sidebar",children:Object(De.jsx)("div",{class:"dial-sidebar__grid",children:r})}),Object(De.jsx)("div",{class:"dialogs__chat chat",children:Object(De.jsxs)("div",{class:"chat__body",children:[Object(De.jsx)("div",{class:"chat__messageS messageS",children:Object(De.jsxs)("div",{class:"messageS__grid",children:[a,a,a]})}),Object(De.jsx)("div",{class:"chat__send send",children:Object(De.jsx)(Ve,{onSubmit:function(e){n(e.message)}})})]})})]})})})},Ye=function(e){var t=function(t){return t.isAuth?Object(De.jsx)(e,Object(j.a)({},t)):Object(De.jsx)(Pe.a,{to:"/login"})};return t=Object(c.b)((function(e){return{isAuth:e.Auth.isAuth,myId:e.Auth.userId}}),{})(t)},Ke=Object(i.d)(Object(c.b)((function(e){return{dialogsData:e.Messages}}),{addMsg:function(e){return{type:T,msg:e}}}),Ye)($e),Xe=n(8),Ze=n(9),Qe=n(16),et=n(17),tt=n(298),nt=(n(269),function(e){var t=e.loading;return console.log("loading: ",t),Object(De.jsx)(tt.a,{in:t,timeout:500,classNames:"preloader",mountOnEnter:!0,unmountOnExit:!0,children:Object(De.jsx)("div",{className:"preloader",children:Object(De.jsx)("div",{className:"preloader__wall",children:Object(De.jsx)("div",{className:"preloader__spin-box"})})})})}),rt=a.a.memo(nt),at=(n(270),n(271),function(e){var t=e.fullname,n=e.location,r=e.status,a=e.followed,s=e.follow,c=e.unfollow,i=e.avatar,o=e.id,u=e.followingInProgressState;return Object(De.jsx)("div",{class:"users-page__item users-page-item",children:Object(De.jsx)("div",{class:"users-page-item__body",children:Object(De.jsxs)("div",{class:"users-page-item__grid",children:[Object(De.jsx)(Ce.b,{class:"users-page-item__avatar",to:"/profile/".concat(o),children:i?Object(De.jsx)("img",{src:i}):""}),Object(De.jsxs)("div",{class:"users-page-item__status status-grid",children:[Object(De.jsx)("div",{class:"status-grid__name",children:t}),Object(De.jsxs)("div",{class:"status-grid__contry",children:[n.contry,","]}),Object(De.jsx)("div",{class:"status-grid__city",children:n.city}),Object(De.jsx)("div",{class:"status-grid__myself",children:r})]}),Object(De.jsx)("div",{class:"users-page-item__follow",children:a?Object(De.jsx)("button",{disabled:u(),onClick:c,class:"users-page-item__follow-btn unfollow-btn",children:"unfollow"}):Object(De.jsx)("button",{disabled:u(),onClick:s,class:"users-page-item__follow-btn",children:"follow"})})]})})})}),st=function(e){var t=e.isFetching,n=e.users,r=e.currentPage,a=e.selectPage,s=e.followingInProgressState,c=e.unfollowThunkCreator,i=e.followThunkCreator,o=e.isAuth;return Object(De.jsx)(De.Fragment,{children:Object(De.jsxs)("div",{class:"users-page",children:[Object(De.jsx)(rt,{loading:t}),Object(De.jsxs)("div",{class:"users-page__grid",children:[Object(De.jsxs)("ul",{class:"users-page__select-page-btns select-page-btns",children:[1===r?"":2===r?Object(De.jsx)("li",{onClick:function(){return a(-1)},className:"select-page-btns__page-num",children:r-1}):Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)("li",{onClick:function(){return a(-2)},className:"select-page-btns__page-num",children:r-2}),Object(De.jsx)("li",{onClick:function(){return a(-1)},className:"select-page-btns__page-num",children:r-1})]}),Object(De.jsx)("li",{className:"select-page-btns__page-num selected-page",children:r}),Object(De.jsx)("li",{onClick:function(){return a(1)},className:"select-page-btns__page-num",children:r+1}),Object(De.jsx)("li",{onClick:function(){return a(2)},className:"select-page-btns__page-num",children:r+2}),1===r?Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)("li",{onClick:function(){return a(3)},className:"select-page-btns__page-num",children:r+3}),Object(De.jsx)("li",{onClick:function(){return a(4)},className:"select-page-btns__page-num",children:r+4})]}):2===r?Object(De.jsx)("li",{onClick:function(){return a(3)},className:"select-page-btns__page-num",children:r+3}):""]}),Object(De.jsx)("div",{class:"users-page__body",children:n.map((function(e){return Object(De.jsx)(at,{id:e.id,fullname:e.fullname,location:e.location,status:e.status,followed:e.followed,avatar:e.avatar,follow:function(){return i(e.id)},unfollow:function(){return c(e.id)},followingInProgressState:function(){return s.some((function(t){return t===e.id}))||!o}},e.id)}))})]})]})})},ct=function(e){Object(Qe.a)(n,e);var t=Object(et.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).selectPage=function(t){e.props.setCurrentPage(e.props.currentPage+t),e.props.getUsersThuckCreator(e.props.currentPage+t,e.props.pageSize)},e}return Object(Ze.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThuckCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(De.jsx)(st,{isAuth:this.props.isAuth,isFetching:this.props.isFetching,currentPage:this.props.currentPage,users:this.props.users,totalUsersCount:this.props.totalUsersCount,follow:this.props.follow,unfollow:this.props.unfollow,selectPage:this.selectPage,followingInProgress:this.props.followingInProgress,followingInProgressState:this.props.followingInProgressState,unfollowThunkCreator:this.props.unfollowThunkCreator,followThunkCreator:this.props.followThunkCreator})}}]),n}(a.a.Component),it=function(e){return e.UsersPage.users},ot=function(e){return e.UsersPage.pageSize},ut=function(e){return e.UsersPage.totalUsersCount},lt=function(e){return e.UsersPage.currentPage},dt=function(e){return e.UsersPage.isFetchingData},jt=function(e){return e.UsersPage.followingInProgressState},bt={fetching:ue,setUsers:je,setCurrentPage:function(e){return{type:re,page:e}},followingInProgress:oe,getUsersThuckCreator:function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(r){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ue()),n.next=3,v.requestUsersData(e,t);case 3:return a=n.sent,n.next=6,r(je(a.items.map((function(e){return{id:e.id,fullname:e.name,location:{contry:"Russia",city:"Moscow"},status:e.status,followed:e.followed,avatar:e.photos.small}}))));case 6:r({type:se});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unfollowThunkCreator:function(e){return function(t){be(e,"unfollow",t)}},followThunkCreator:function(e){return function(t){be(e,"follow",t)}}},ht=Object(i.d)(Object(c.b)((function(e){return{users:it(e),pageSize:ot(e),currentPage:lt(e),totalUsersCount:ut(e),isFetching:dt(e),followingInProgressState:jt(e),isAuth:e.Auth.isAuth}}),bt),Ye)(ct),pt=n.p+"static/media/vk.9ce56e3f.svg",ft=n.p+"static/media/youtube.6035ccee.svg",mt=n.p+"static/media/facebook.4aeb301d.svg",gt=n.p+"static/media/twitter.51480627.svg",Ot=n.p+"static/media/github.4e195a3b.svg",xt=n.p+"static/media/instagram.787b1447.svg",vt=n.p+"static/media/upload.11c6748a.svg",_t=(n(272),n(50)),Ft=n(21);n(290);function wt(e){var t=e.name,n=e.className;return Object(De.jsx)(De.Fragment,{children:Object(De.jsx)(_t.a,{name:t,children:function(e){var t=e.field;return Object(De.jsx)("input",Object(j.a)({type:"checkbox",className:n,checked:t.value},t))}})})}var yt=function(e){var t=e.contacts,n=e.className,r=e.contactClassName,a=e.values,s=e.errors,c=e.handleChange,i=e.handleBlur,o=e.touched;return Object(De.jsx)("div",{class:!0,className:n,children:Object.keys(t).filter((function(e){return"website"!==e&&"mainLink"!==e})).map((function(e){return Object(De.jsx)("div",{children:Object(De.jsx)(Nt,{className:r,forForm:!0,icon:At[e],link:t[e],name:e,children:Object(De.jsx)("div",{class:"prof-form-item__field",children:Object(De.jsx)(He,{value:a.contacts[e],onChange:c,onBlur:i,error:s[e],touched:o[e],name:"contacts.".concat(e),placeholder:"".concat(e),isHorizontal:!0,isInput:!0})})})},e)}))})},kt=Object(c.b)((function(e){return{}}),{updateProfInfo:function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Y(!0)),n.prev=1,n.next=4,x.updateProfInfo(Object(j.a)(Object(j.a)({},e),{},{userId:t}));case 4:return n.next=6,r(W(e));case 6:n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(1),new Error;case 11:return n.prev=11,r(Y(!1)),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.aboutMe,n=e.contacts,r=e.lookingForAJob,a=e.lookingForAJobDescription,s=e.fullName,c=e.onSave,i=e.userId,o=e.updateProfInfo,u=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t,n);case 3:c(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),b=/^((https?|ftp):\/\/)?(www.)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,h=Ft.a().shape({FullName:Ft.b().max(20,"Max length 20").required("Name required!"),vk:Ft.b().matches(b,"Enter a valid url"),youtube:Ft.b().matches(b,"Enter a valid url"),facebook:Ft.b().matches(b,"Enter a valid url"),twitter:Ft.b().matches(b,"Enter a valid url"),github:Ft.b().matches(b,"Enter a valid url"),instagram:Ft.b().matches(b,"Enter a valid url")});return Object(De.jsx)(_t.b,{initialValues:{mainLink:n.mainLink||"",website:n.website||"",FullName:s,AboutMe:t||"",lookingForAJob:r,LookingForAJobDescription:a||"",contacts:{vk:n.vk||"",youtube:n.youtube||"",facebook:n.facebook||"",twitter:n.twitter||"",github:n.github||"",instagram:n.instagram||""}},validateOnBlur:!0,onSubmit:function(e){var t=Object(j.a)(Object(j.a)({},e),{},{userId:i});for(var n in t)""===t[n]&&(t[n]=null);for(var r in t.contacts)""===t.contacts[r]&&(t.contacts[r]=null);u(t,i)},validationSchema:h,children:function(e){var t=e.values,r=e.errors,a=e.touched,s=e.handleChange,c=e.handleBlur,i=e.isValid,o=e.handleSubmit;return Object(De.jsxs)("form",{onSubmit:o,class:"profile-head-form",children:[Object(De.jsx)("div",{class:"profile-head-form__fullname",children:Object(De.jsx)(He,{error:r.FullName,touched:a.FullName,value:t.FullName,onChange:s,onBlur:c,name:"FullName",placeholder:"Fullname",isInput:!0})}),Object(De.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(De.jsx)("b",{class:"prof-form-item__title",children:"About me:"}),Object(De.jsx)("div",{class:"prof-form-item__field",children:Object(De.jsx)(He,{value:t.AboutMe,onChange:s,onBlur:c,name:"AboutMe",placeholder:"About yourself"})})]}),Object(De.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(De.jsx)("b",{class:"prof-form-item__title",children:"Are you looking for a job now?"}),Object(De.jsx)(wt,{className:"prof-form-item__check-box",name:"lookingForAJob"})]}),Object(De.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(De.jsx)("b",{class:"prof-form-item__title",children:"About work: "}),Object(De.jsx)("div",{class:"prof-form-item__field",children:Object(De.jsx)(He,{value:t.LookingForAJobDescription,onChange:s,onBlur:c,name:"LookingForAJobDescription",placeholder:"About your work"})})]}),Object(De.jsx)(yt,{values:t,errors:r,handleChange:s,handleBlur:c,touched:a,className:"prof-form-item__contacts",contactClassName:"prof-form-item__contact",contacts:n}),Object(De.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(De.jsx)("b",{class:"prof-form-item__title",children:"My Website:"}),Object(De.jsx)("div",{class:"prof-form-item__field",children:Object(De.jsx)(He,{value:t.website,onChange:s,onBlur:c,name:"website",placeholder:"My Website",isInput:!0})})]}),Object(De.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(De.jsx)("b",{class:"prof-form-item__title",children:"Main link:"}),Object(De.jsx)("div",{class:"prof-form-item__field",children:Object(De.jsx)(He,{value:t.mainLink,onChange:s,onBlur:c,name:"mainLink",placeholder:"Main link",isInput:!0})})]}),Object(De.jsx)("button",{disabled:!i,type:"submit",class:"profile-head-form__submit prof-head__edit-btn",children:"Save"})]})}})})),At={vk:pt,youtube:ft,facebook:mt,twitter:gt,github:Ot,instagram:xt},St=function(e){var t=e.isMyProfile,n=e.updateUserStatus,r=a.a.useState(!1),s=Object(o.a)(r,2),c=s[0],i=s[1],u=a.a.useState(e.status),l=Object(o.a)(u,2),d=l[0],j=l[1];a.a.useEffect((function(){j(e.status)}),[e.status]);var b=function(){i(!c)};return Object(De.jsxs)("div",{onDoubleClick:b,class:"prof-head__about",children:[Object(De.jsx)("b",{children:"Status: "}),Object(De.jsx)(De.Fragment,{children:t&&c?Object(De.jsx)("input",{autoFocus:!0,onFocus:function(e){e.target.select()},onBlur:function(t){b(),t.currentTarget.value!==e.status&&n(d)},value:d,onChange:function(e){j(e.target.value)},className:"prof-head__about-input"}):Object(De.jsx)("span",{class:"prof-head__about-text",children:d})})]})},Nt=function(e){var t=e.icon,n=e.link,r=e.name,a=e.forForm,s=e.children,c=e.className;return Object(De.jsx)("div",{class:c,children:a?Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)("div",{children:Object(De.jsx)("img",{draggable:!1,src:t,alt:r})}),s]}):Object(De.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"http"==(null===n||void 0===n?void 0:n.substr(0,4))?n:"http://"+n,children:Object(De.jsx)("img",{draggable:!1,src:t,alt:r})})})},Ct=function(e){var t=e.contacts,n=e.forForm,r=void 0!==n&&n,a=e.contactChild,s=e.className,c=e.contactClassName;return Object(De.jsx)("div",{class:!0,className:s,children:t&&Object.keys(t).filter((function(e){return"website"!==e&&"mainLink"!==e})).map((function(e){if(t[e]||r)return Object(De.jsx)("div",{children:Object(De.jsx)(Nt,{className:c,forForm:r,icon:At[e],link:t[e],name:e,children:a})},e)}))})},Pt=function(e){var t=e.contacts,n=e.forForm,r=void 0!==n&&n;return Object(De.jsx)(Ct,{contacts:t,contactClassName:"prof-head__contact",className:"prof-head__contacts ".concat(r&&"prof-contacts-in-form")})},Dt=function(e){var t=e.aboutMe,n=e.contacts,r=e.lookingForAJob,a=e.lookingForAJobDescription,s=e.fullName,c=(e.userId,e.photos,e.isAuth,e.isMyProfile),i=e.updateUserStatus,o=(e.updateAvatar,e.status);e.toggleSetFetching;return Object(De.jsxs)("div",{class:"prof-head__info",children:[Object(De.jsxs)("div",{class:"prof-head__fullname",children:[Object(De.jsx)("b",{children:s}),c&&Object(De.jsx)("button",{onClick:function(){return e.setEditMode(!0)},class:"prof-head__edit-btn",children:"Edit profile"})]}),Object(De.jsx)(St,{updateUserStatus:i,status:o,isMyProfile:c}),Object(De.jsxs)("div",{children:["about me: ",Object(De.jsx)("i",{children:t})]}),Object(De.jsxs)("div",{class:"prof-head__look-job",children:[Object(De.jsx)("b",{children:"\u0417\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u044c: "}),r?"\u041e\u0442\u043a\u0440\u044b\u0442 \u0434\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439":"\u0420\u0430\u0431\u043e\u0442\u0430\u044e",Object(De.jsxs)("div",{class:"prof-head__look-job-desc",children:[Object(De.jsx)("b",{children:"Description: "}),a]})]}),Object(De.jsx)(Pt,{contacts:n}),Object(De.jsxs)("div",{class:"prof-head__my-site",children:[(null===n||void 0===n?void 0:n.website)&&Object(De.jsx)("a",{class:"prof-head__contact",target:"_blank",href:"".concat(n.website),children:"My Website"}),Object(De.jsx)("hr",{}),(null===n||void 0===n?void 0:n.mainLink)&&Object(De.jsx)("a",{class:"prof-head__contact",target:"_blank",href:"".concat(n.mainLink),children:"Main link"})]})]})},Et=function(e){return Object(De.jsx)("div",{class:"prof-head__info prof-head-info-form",children:Object(De.jsx)(kt,Object(j.a)({onSave:function(){e.setEditMode(!1)}},e))})},It=function(e){var t=e.photos,n=e.isMyProfile,r=e.updateAvatar,s=a.a.useState(!1),c=Object(o.a)(s,2),i=c[0],u=c[1];return Object(De.jsx)("div",{class:"prof-head",children:Object(De.jsxs)("div",{class:"prof-head__body",children:[Object(De.jsxs)("div",{class:"prof-head__image",children:[t?Object(De.jsx)("img",{src:t.large}):"",n&&Object(De.jsx)(De.Fragment,{children:Object(De.jsxs)("label",{class:"prof-head__file-upload",children:[Object(De.jsx)("input",{onChange:function(e){0!==e.target.files.length&&r(e.target.files[0])},type:"file"}),Object(De.jsx)("img",{src:vt,alt:"upload"})]})})]}),i&&n?Object(De.jsx)(Et,Object(j.a)(Object(j.a)({},e),{},{setEditMode:u})):Object(De.jsx)(Dt,Object(j.a)(Object(j.a)({},e),{},{setEditMode:u}))]})})},Tt=(n(291),function(e){return Object(De.jsx)("div",{class:"profile",children:Object(De.jsx)("div",{class:"profile__grid",children:Object(De.jsx)(It,Object(j.a)(Object(j.a)({},e.userProfileData),{},{status:e.status,updateUserStatus:e.updateUserStatus,updateAvatar:e.updateAvatar,isMyProfile:e.isMyProfile,isAuth:e.isAuth,toggleSetFetching:e.toggleSetFetching}))})})}),Mt=function(e){Object(Qe.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Xe.a)(this,n),t.apply(this,arguments)}return Object(Ze.a)(n,[{key:"refreshProfile",value:function(){this.props.getUserPersonDataThunkCreator(this.props.match.params.userId),this.props.getUserStatus(this.props.match.params.userId)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(rt,{loading:this.props.Profile.isFetching}),Object(De.jsx)(Tt,{toggleSetFetching:this.props.toggleSetFetching,updateAvatar:this.props.updateAvatarTC,updateUserStatus:this.props.updateUserStatus,userProfileData:this.props.Profile.userProfileData,status:this.props.Profile.status,isAuth:this.props.isAuth,isMyProfile:this.props.myId==this.props.match.params.userId})]})}}]),n}(a.a.Component),Ut={getUserPersonDataThunkCreator:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Y(!0)),t.prev=1,t.next=4,x.requestProfileData(e);case 4:r=t.sent,n(W(r)),n(Y(!1)),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Y(!0)),t.prev=1,r=x.requestProfileStatus,t.next=5,r(e);case 5:a=t.sent,n($(a)),n(Y(!1)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Y(!0)),t.prev=1,t.next=4,x.updateProfileStatus(e);case 4:n($(e)),n(Y(!1)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},updateAvatarTC:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Y(!0)),t.prev=1,t.next=4,x.uploadAvatar(e);case 4:return r=t.sent,t.next=7,n(V(r));case 7:n(Y(!1)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[1,10,12,14]])})));return function(e){return t.apply(this,arguments)}}()},toggleSetFetching:Y},Lt=Object(i.d)(Object(c.b)((function(e){return{Profile:e.Profile}}),Ut),Ye,Pe.g)(Mt),zt=(n(292),function(e){var t=e.onSubmitLogin,n=e.captchaUrl,r=Ft.a().shape({login:Ft.b().email("Invalid email").max(30,"Too Long!").required("Is required!"),password:Ft.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(5,"Too Short!").max(20,"Too Long!").required("Is required!"),captcha:Ft.b()});return Object(De.jsx)(_t.b,{initialValues:{login:"",password:"",remeberMe:!1,captcha:""},validateOnBlur:!0,onSubmit:function(e){return t(e)},validationSchema:r,children:function(e){var t=e.values,r=e.errors,a=e.touched,s=e.handleChange,c=e.handleBlur,i=e.isValid,o=e.handleSubmit,u=e.dirty;return Object(De.jsxs)("form",{onSubmit:o,class:"login__form",children:[Object(De.jsx)("div",{class:"login__input-login",children:Object(De.jsx)(He,{value:t.login,onChange:s,onBlur:c,error:r.login,touched:a.login,name:"login",type:"text",placeholder:"login",isHorizontal:!0,isInput:!0})}),Object(De.jsx)("div",{class:"login__input-password",children:Object(De.jsx)(He,{value:t.password,onChange:s,onBlur:c,error:r.password,touched:a.password,name:"password",type:"password",placeholder:"password",isHorizontal:!0,isInput:!0})}),Object(De.jsxs)("div",{class:"login__remember-me",children:[Object(De.jsx)(wt,{name:"rememberMe"}),"remember me"]}),n&&Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)("div",{class:"login__captcha",children:Object(De.jsx)("img",{class:"login__captcha-img",src:n,alt:"captcha"})}),Object(De.jsx)("div",{class:"login__input-password input-captcha",children:Object(De.jsx)(He,{onBlur:c,value:t.captcha,onChange:s,name:"captcha",placeholder:"captcha",isHorizontal:!0,isInput:!0})})]}),Object(De.jsx)("button",{disabled:!i||!u,type:"submit",class:"login-btn",children:"Sign-in"})]})}})}),qt=Object(c.b)((function(e){return{isAuth:e.Auth.isAuth,authError:e.Auth.authError,captcha:e.Auth.captcha}}),{loginThunkCreator:function(e,t,n,r){return function(){var a=Object(d.a)(l.a.mark((function a(s){var c,i,u;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(A(!0)),s(N(null)),a.prev=2,a.next=5,g(e,t,n,r);case 5:s(P()),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(2),c=Object(o.a)(a.t0,2),i=c[0],u=c[1],s(N(u)),10===i&&s(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getCaptcha();case 2:n=e.sent,t(S(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:s(A(!1));case 14:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()},logoutThunkCreator:D})((function(e){var t=e.captcha,n=(e.isAuth,e.authError),r=e.loginThunkCreator;e.logoutThunkCreator;return Object(De.jsxs)("div",{class:"login",children:[Object(De.jsx)("h1",{class:"login__title",children:"Login"}),Object(De.jsx)(zt,{captchaUrl:t,onSubmitLogin:function(e){var t=e.login,n=e.password,a=e.remeberMe,s=e.captcha;r(t,n,a,s)}}),Object(De.jsx)("div",{className:"login__error-label",children:n}),Object(De.jsxs)("div",{className:"login__balls login-balls",children:[Object(De.jsx)("div",{className:"login-balls__ball1"}),Object(De.jsx)("div",{className:"login-balls__ball2"})]})]})})),Bt=(n(293),Object(c.b)((function(e){return{initialized:e.App.initialize,isAuth:e.Auth.isAuth}}),{initializeApp:function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(P()),e.next=3,Promise.all([n]);case 3:t({type:fe});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.initialized,n=e.initializeApp,a=e.isAuth;return Object(r.useEffect)(n,[n]),Object(De.jsx)(Ce.a,{children:Object(De.jsxs)("div",{class:"app",children:[Object(De.jsx)(rt,{loading:!t}),Object(De.jsx)(Ie,{className:n&&"started-header"}),a&&Object(De.jsx)(Te,{}),Object(De.jsx)("div",{class:"app__content",children:a?Object(De.jsxs)(Pe.d,{children:[Object(De.jsx)(Pe.b,{path:"/profile/:userId?",render:function(){return Object(De.jsx)(Lt,{})}}),Object(De.jsx)(Pe.b,{path:"/dialogs",exact:!0,render:function(){return Object(De.jsx)(Ke,{})}}),Object(De.jsx)(Pe.b,{path:"/users",exact:!0,render:function(){return Object(De.jsx)(ht,{})}}),Object(De.jsx)(Pe.b,{path:"/news",exact:!0,render:function(){return Object(De.jsx)(Le,{})}}),Object(De.jsx)(Pe.a,{to:"/news"})]}):Object(De.jsxs)(Pe.d,{children:[Object(De.jsx)(Pe.b,{path:"/login",render:function(){return Object(De.jsx)(qt,{})}}),Object(De.jsx)(Pe.a,{to:"/login"})]})})]})})})));Object(s.render)(Object(De.jsx)(c.a,{store:Ne,children:Object(De.jsx)(Bt,{})}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.2457aea0.chunk.js.map