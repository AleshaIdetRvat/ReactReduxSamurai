(this.webpackJsonpnewrr=this.webpackJsonpnewrr||[]).push([[0],{144:function(e,t,r){},165:function(e,t,r){},168:function(e,t,r){},169:function(e,t,r){},170:function(e,t,r){},171:function(e,t,r){},172:function(e,t,r){},173:function(e,t,r){},269:function(e,t,r){},270:function(e,t,r){},271:function(e,t,r){},272:function(e,t,r){},290:function(e,t,r){},291:function(e,t,r){},292:function(e,t,r){},293:function(e,t,r){},294:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(36),c=r(6),i=(r(144),r(12)),o=r(20),u=r(4),l=r.n(u),d=r(7),j=r(2),b=r(66),h=r.n(b),p=h.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"cebb09d0-fe2a-4f47-8835-31a231006854"}}),f={getCaptcha:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("security/get-captcha-url");case 3:return t=e.sent,e.abrupt("return",t.data.url);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},m={uploadAvatar:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("image",t),e.prev=2,e.next=5,p.put("profile/photo",r,{"Content-Type":"multipart/form-data"});case 5:if(0!==(n=e.sent).data.resultCode){e.next=10;break}return e.abrupt("return",n.data.data.photos);case 10:throw new Error(n.data.resultCode);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),requestProfileData:function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("profile/".concat(t||2));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),requestProfileStatus:function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("profile/status/".concat(t||2));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProfInfo:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.put("profile",t);case 3:if(0===e.sent.data.resultCode){e.next=6;break}throw new Error("some error occured");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),updateProfileStatus:function(e){return new Promise((function(t,r){p.put("profile/status",{status:e}).then((function(e){e.data.resultCode||t(e.data.data)})).catch((function(e){return r(e)}))}))}},g={requestUsersData:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,r=a.length>1&&void 0!==a[1]?a[1]:6,e.next=4,p.get("users?page=".concat(t,"&count=").concat(r));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),requestFollow:function(e){return new Promise((function(t,r){p.post("follow/".concat(e),{}).then((function(e){e.data.resultCode||t(e.data.data)})).catch((function(e){return r(e)}))}))},requestUnfollow:function(e){return new Promise((function(t,r){p.delete("follow/".concat(e)).then((function(e){0!==e.data.resultCode?t(e.data.data):r("My_Error")}))}))}},O="authreducer/SET_USER_DATA",x="authreducer/SET_CAPTCHA",v="authreducer/SET_ERROR",_="authreducer/SET_FETCHING",F={userId:20652,email:"TestUser@mail.com",login:"TestUser",isAuth:!1,captcha:null,authError:null,isFetching:!1},w=function(e){return{type:_,flag:e}},y=function(e){return{type:x,url:e}},k=function(e){return{type:v,errorMsg:e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20652,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TestUser@mail.com",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"TestUser",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{type:O,data:{userId:e,email:t,login:r,isAuth:n}}},S=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(A())}catch(r){t(k(r.message))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){return function(e){e(A(null,null,null,!1))}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),t.data);case x:return Object(j.a)(Object(j.a)({},e),{},{captcha:t.url});case v:return Object(j.a)(Object(j.a)({},e),{},{authError:t.errorMsg});case _:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.flag});default:return e}},D=r(15),P="ADD-MESSAGE",E="UPDATE-NEW-MESSAGE",I={usersData:[{name:"Ivan Ivanov",id:"1"},{name:"Petya Kozlov",id:"2"},{name:"Nina Shpagina",id:"3"}],usersMsgData:[{text:"tempText",id:"1",myMsg:!0},{text:"tempText",id:"2",myMsg:!1},{text:"tempText",id:"3",myMsg:!1},{text:"tempText",id:"4",myMsg:!1},{text:"tempText",id:"5",myMsg:!0},{text:"tempText",id:"6",myMsg:!1},{text:"tempText",id:"7",myMsg:!0},{text:"tempText",id:"8",myMsg:!1}]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:if(""!=t.msg){var r={text:t.msg,id:"4",myMsg:!0};return Object(j.a)(Object(j.a)({},e),{},{usersMsgData:[].concat(Object(D.a)(e.usersMsgData),[r])})}return e;case E:return Object(j.a)(Object(j.a)({},e),{},{innerInput:t.newText});default:return e}},M="profile/ADD-POST",U="profile/DELETE-POST",L="profile/SET_USER_PROFILE",z="profile/SET_STATUS",q="profile/TOGGLE_SET_FETHING",B="profile/SET_AVATAR",G={postsData:[{id:1,likes_count:"34",message:"Hello everybody"},{id:2,likes_count:"5",message:"How are they?"}],userProfileData:{AboutMe:"",contacts:null,lookingForAJob:!1,LookingForAJobDescription:"",FullName:"",photos:{small:"",large:""},isMyProfile:!1},isFetching:!0,status:""},R=function(e){return{type:L,userData:e}},H=function(e){return{type:B,photos:e}},J=function(e){return{type:z,status:e}},W=function(e){return{type:q,isFetching:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(j.a)(Object(j.a)({},e),{},{photos:t.photos});case z:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case L:return Object(j.a)(Object(j.a)({},e),{},{userProfileData:Object(j.a)(Object(j.a)({},e.userProfileData),t.userData)});case q:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case M:if(""!==t.newPost){var r={likes_count:"0",message:t.newPost,id:e.postsData.length+1};return Object(j.a)(Object(j.a)({},e),{},{postsData:[].concat(Object(D.a)(e.postsData),[r])})}return e;case U:return Object(j.a)(Object(j.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});default:return e}},$="TOGGLE_IS_OPEN",Y={isOpen:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(j.a)(Object(j.a)({},e),{},{isOpen:!e.isOpen})}return e},X="userPage/FOLLOW",Z="userPage/UNFOLLOW",Q="userPage/SET_USERS",ee="userPage/SET_CURRENT_PAGE",te="userPage/FETCHING_DATA",re="userPage/END_FETCHING_DATA",ne="userPage/TOGGLE_FOLLOW_IN_PROGRESS",ae={users:[],pageSize:6,currentPage:1,totalUsersCount:0,isFetchingData:!0,followingInProgressState:[]},se=function(e,t){return{type:ne,userId:t,isFetching:e}},ce=function(){return{type:te}},ie=function(e){return{type:X,userId:e}},oe=function(e){return{type:Z,userId:e}},ue=function(e){return{type:Q,users:e}},le=function(){var e=Object(d.a)(l.a.mark((function e(t,r,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(se(!0,t)),e.prev=1,"follow"!==r){e.next=8;break}return e.next=5,g.requestFollow(t);case 5:n(ie(t)),e.next=12;break;case 8:if("unfollow"!==r){e.next=12;break}return e.next=11,g.requestUnfollow(t);case 11:n(oe(t));case 12:n(se(!1,t)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r,n){return e.apply(this,arguments)}}(),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(j.a)(Object(j.a)({},e),{},{followingInProgressState:t.isFetching?[].concat(Object(D.a)(e.followingInProgressState),[t.userId]):e.followingInProgressState.filter((function(e){return e!=t.userId}))});case te:return Object(j.a)(Object(j.a)({},e),{},{isFetchingData:!0});case re:return Object(j.a)(Object(j.a)({},e),{},{isFetchingData:!1});case ee:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.page});case X:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return t.userId===e.id?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case Z:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return t.userId===e.id?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case Q:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});default:return e}},je=r(126),be="INITIALIZE_SUCCES",he={initialize:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(j.a)(Object(j.a)({},e),{},{initialize:!0});default:return e}},fe=function(){var e=0;return function(){return++e}}(),me={getNews:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",url:"https://newsapi.org/v2/everything",params:{q:"apple",from:"2021-11-06",to:"2021-11-06",sortBy:"relevancy",apiKey:"fdb221eb5b83436ca4e2d455f845a5d4",page:fe(),pageSize:"10"}},e.prev=1,e.next=4,h.a.request(t);case 4:return r=e.sent,e.abrupt("return",r.data.articles);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},ge="SET_NEWS",Oe={news:[]},xe=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getNews();case 2:(r=e.sent)&&0!==r.length&&(n=r.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{publishedAt:new Date(e.publishedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}).split(" ").join("-")})})),t({type:ge,payload:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(j.a)(Object(j.a)({},e),{},{news:[].concat(Object(D.a)(e.news),Object(D.a)(t.payload))});default:return e}},_e=Object(i.c)({Messages:T,Profile:V,Sidebar:K,UsersPage:de,Auth:C,App:pe,News:ve}),Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,we=Object(i.e)(_e,Fe(Object(i.a)(je.a)));window.reduxStore=we;var ye,ke=we,Ae=r(19),Se=r(11),Ne=(r(165),r(0)),Ce=function(e){var t=e.isAuth,r=e.login,n=e.className,a=e.logoutThunkCreator,s=Object(c.c)(),i=Object(c.d)((function(e){return[e.Sidebar.isOpen,e.Auth.userId]})),u=Object(o.a)(i,2),l=u[0],d=u[1];return Object(Ne.jsx)("header",{className:"header ".concat(n),children:Object(Ne.jsx)("div",{className:"header__body",children:Object(Ne.jsxs)("div",{className:"header__grid",children:[Object(Ne.jsx)("div",{className:"header__logo header-logo",children:Object(Ne.jsxs)("span",{className:"header-logo__text",children:[Object(Ne.jsx)("i",{className:"header-logo__letter1",children:"S"}),Object(Ne.jsx)("i",{className:"header-logo__letter2",children:"N"})]})}),Object(Ne.jsx)("div",{className:"header__login header-login",children:Object(Ne.jsx)("div",{className:"header-login__body",children:Object(Ne.jsx)(Ae.b,{to:"/profile/".concat(d),children:t?r:""})})}),t&&Object(Ne.jsx)("div",{class:"logout",children:Object(Ne.jsx)("button",{class:"login-btn",onClick:a,children:"Logout"})}),Object(Ne.jsx)("button",{onClick:function(){return s({type:$,isOpen:e});var e},className:"login-btn__menu-burger menu-burger ".concat(l?"menu-burger--open":""),children:Object(Ne.jsx)("div",{className:"menu-burger__body ",children:Object(Ne.jsx)("div",{className:"menu-burger__middle-stick"})})})]})})})},De=Object(c.b)((function(e){return{isAuth:e.Auth.isAuth,login:e.Auth.login}}),{logoutThunkCreator:N})((function(e){return Object(Ne.jsx)(Ce,Object(j.a)({},e))})),Pe=(r(168),Object(c.b)((function(e){return{UserId:e.Auth.userId}}),{})((function(e){var t=Object(c.d)((function(e){return e.Sidebar.isOpen}));return Object(Ne.jsx)("nav",{class:"sidebar ".concat(t?"menu--open":""),children:Object(Ne.jsx)("div",{class:"sidebar__body",children:Object(Ne.jsxs)("ul",{class:"sidebar__grid",children:[Object(Ne.jsx)(Ae.b,{activeClassName:"selected",to:"/profile/".concat(e.UserId),className:"sidebar__item",children:Object(Ne.jsx)("span",{children:"Profile"})}),Object(Ne.jsx)(Ae.b,{activeClassName:"selected",to:"/dialogs",className:"sidebar__item",children:Object(Ne.jsx)("span",{children:"Messages"})}),Object(Ne.jsx)(Ae.b,{activeClassName:"selected",to:"/users",className:"sidebar__item",children:Object(Ne.jsx)("span",{children:"Find Users"})}),Object(Ne.jsx)(Ae.b,{activeClassName:"selected",to:"/news",className:"sidebar__item",children:Object(Ne.jsx)("span",{children:"News"})})]})})})}))),Ee=r(128),Ie=(r(169),function(e){var t=e.author,r=e.title,n=e.description,a=e.urlToImage,s=e.publishedAt,c=e.url,i=document.createElement("div");i.innerHTML=n;var o=i.innerText;return Object(Ne.jsx)("article",{className:"news-article",children:Object(Ne.jsx)("div",{className:"news-article__body",children:Object(Ne.jsxs)("div",{className:"news-article__row",children:[Object(Ne.jsx)("div",{className:"news-article__content article-content",children:Object(Ne.jsxs)("div",{className:"article-content__grid",children:[Object(Ne.jsx)("h2",{className:"article-content__title",children:r}),Object(Ne.jsxs)("div",{className:"article-content__desc",children:[o,","," ",Object(Ne.jsx)("a",{className:"article-content__desc",target:"_blank",rel:"noreferrer",href:c,children:"See more"})]}),Object(Ne.jsxs)("div",{className:"article-content__author",children:["Author: ",Object(Ne.jsx)("i",{children:t})]}),Object(Ne.jsx)("div",{className:"article-content__date",children:s})]})}),Object(Ne.jsx)("div",{className:"news-article__image-container",children:Object(Ne.jsx)("img",{className:"news-article__image",src:a,alt:"news-image"})})]})})})}),Te=function(){var e=Object(c.d)((function(e){return e.News.news})),t=Object(c.c)();console.log(e);var r=Object(n.useState)(!0),a=Object(o.a)(r,2),s=(a[0],a[1]);Object(n.useEffect)((function(){t(xe())}),[]);return Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsxs)("div",{className:"news",children:[Object(Ne.jsx)("h1",{className:"news__title",children:"News"}),Object(Ne.jsx)(Ee.a,{className:"news__container",style:{overflow:"unset"},dataLength:e.length,next:function(){e.length>=1e3?s(!1):t(xe())},hasMore:!0,loader:Object(Ne.jsx)("h4",{style:{textAlign:"center"},children:"Loading..."}),endMessage:Object(Ne.jsx)("p",{style:{textAlign:"center"},children:Object(Ne.jsx)("b",{children:"Yay! You have seen it all"})}),children:e.map((function(e,t){return Object(n.createElement)(Ie,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})]})})},Me=(r(170),function(e){return Object(Ne.jsx)(Ae.b,{to:"/dialogs/"+e.personId,children:Object(Ne.jsxs)("div",{class:"dial-sidebar__people people-dialog",children:[Object(Ne.jsx)("div",{div:!0,class:"people-dialog__icon"}),Object(Ne.jsx)("div",{class:"people-dialog__name",children:Object(Ne.jsx)("span",{children:e.Name})})]})})}),Ue=(r(171),r(172),function(e){return Object(Ne.jsx)("div",{class:e.myMsg?"messageS__item message my-message":"messageS__item message",children:Object(Ne.jsx)("div",{class:"message__body",children:Object(Ne.jsx)("div",{class:"message__text",children:e.Text})})})}),Le=r(299),ze=r(297),qe=r(135),Be=(r(173),function(e){var t=e.touched,r=e.error,n=e.isHorizontal,a=void 0!==n&&n,s=e.isInput,c=void 0!==s&&s,i=Object(qe.a)(e,["touched","error","isHorizontal","isInput"]),o=t&&r;return Object(Ne.jsxs)("div",{class:"my-textarea",children:[c?Object(Ne.jsx)("input",Object(j.a)({},i)):Object(Ne.jsx)("textarea",Object(j.a)({},i)),o&&Object(Ne.jsx)("span",{class:"my-textarea__error-".concat(a?"horizontal":"vertical"),children:r})]})}),Ge=function(e){if(!e)return"Field is required"},Re=(ye=20,function(e){if(e&&e.length>ye)return"Max lenght is ".concat(ye," symbols")}),He=Object(ze.a)({form:"newMsg"})((function(e){e.onSubmit;var t=e.handleSubmit;return Object(Ne.jsxs)("form",{onSubmit:t,class:"send__grid",children:[Object(Ne.jsx)(Le.a,{isInput:!0,component:Be,validate:[Ge,Re],name:"message",type:"text",placeholder:"Your message",class:"send__input"}),Object(Ne.jsx)("button",{class:"send__btn",children:"Send"})]})})),Je=function(e){var t=e.dialogsData,r=e.addMsg,n=t.usersData.map((function(e){return Object(Ne.jsx)(Me,{Name:e.name,personId:e.id},e.id)})),a=t.usersMsgData.map((function(e){return Object(Ne.jsx)(Ue,{Text:e.text,myMsg:e.myMsg},e.id)}));return Object(Ne.jsx)("div",{class:"dialogs",children:Object(Ne.jsx)("div",{class:"dialogs__body",children:Object(Ne.jsxs)("div",{class:"dialogs__grid",children:[Object(Ne.jsx)("div",{class:"dialogs__sidebar dial-sidebar",children:Object(Ne.jsx)("div",{class:"dial-sidebar__grid",children:n})}),Object(Ne.jsx)("div",{class:"dialogs__chat chat",children:Object(Ne.jsxs)("div",{class:"chat__body",children:[Object(Ne.jsx)("div",{class:"chat__messageS messageS",children:Object(Ne.jsxs)("div",{class:"messageS__grid",children:[a,a,a]})}),Object(Ne.jsx)("div",{class:"chat__send send",children:Object(Ne.jsx)(He,{onSubmit:function(e){r(e.message)}})})]})})]})})})},We=function(e){var t=function(t){return t.isAuth?Object(Ne.jsx)(e,Object(j.a)({},t)):Object(Ne.jsx)(Se.a,{to:"/login"})};return t=Object(c.b)((function(e){return{isAuth:e.Auth.isAuth,myId:e.Auth.userId}}),{})(t)},Ve=Object(i.d)(Object(c.b)((function(e){return{dialogsData:e.Messages}}),{addMsg:function(e){return{type:P,msg:e}}}),We)(Je),$e=r(8),Ye=r(9),Ke=r(16),Xe=r(17),Ze=r(298),Qe=(r(269),function(e){var t=e.loading;return console.log("loading: ",t),Object(Ne.jsx)(Ze.a,{in:t,timeout:500,classNames:"preloader",mountOnEnter:!0,unmountOnExit:!0,children:Object(Ne.jsx)("div",{className:"preloader",children:Object(Ne.jsx)("div",{className:"preloader__wall",children:Object(Ne.jsx)("div",{className:"preloader__spin-box"})})})})}),et=a.a.memo(Qe),tt=(r(270),r(271),function(e){var t=e.fullname,r=e.location,n=e.status,a=e.followed,s=e.follow,c=e.unfollow,i=e.avatar,o=e.id,u=e.followingInProgressState;return Object(Ne.jsx)("div",{class:"users-page__item users-page-item",children:Object(Ne.jsx)("div",{class:"users-page-item__body",children:Object(Ne.jsxs)("div",{class:"users-page-item__grid",children:[Object(Ne.jsx)(Ae.b,{class:"users-page-item__avatar",to:"/profile/".concat(o),children:i?Object(Ne.jsx)("img",{src:i}):""}),Object(Ne.jsxs)("div",{class:"users-page-item__status status-grid",children:[Object(Ne.jsx)("div",{class:"status-grid__name",children:t}),Object(Ne.jsxs)("div",{class:"status-grid__contry",children:[r.contry,","]}),Object(Ne.jsx)("div",{class:"status-grid__city",children:r.city}),Object(Ne.jsx)("div",{class:"status-grid__myself",children:n})]}),Object(Ne.jsx)("div",{class:"users-page-item__follow",children:a?Object(Ne.jsx)("button",{disabled:u(),onClick:c,class:"users-page-item__follow-btn unfollow-btn",children:"unfollow"}):Object(Ne.jsx)("button",{disabled:u(),onClick:s,class:"users-page-item__follow-btn",children:"follow"})})]})})})}),rt=function(e){var t=e.isFetching,r=e.users,n=e.currentPage,a=e.selectPage,s=e.followingInProgressState,c=e.unfollowThunkCreator,i=e.followThunkCreator,o=e.isAuth;return Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsxs)("div",{class:"users-page",children:[Object(Ne.jsx)(et,{loading:t}),Object(Ne.jsxs)("div",{class:"users-page__grid",children:[Object(Ne.jsxs)("ul",{class:"users-page__select-page-btns select-page-btns",children:[1===n?"":2===n?Object(Ne.jsx)("li",{onClick:function(){return a(-1)},className:"select-page-btns__page-num",children:n-1}):Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)("li",{onClick:function(){return a(-2)},className:"select-page-btns__page-num",children:n-2}),Object(Ne.jsx)("li",{onClick:function(){return a(-1)},className:"select-page-btns__page-num",children:n-1})]}),Object(Ne.jsx)("li",{className:"select-page-btns__page-num selected-page",children:n}),Object(Ne.jsx)("li",{onClick:function(){return a(1)},className:"select-page-btns__page-num",children:n+1}),Object(Ne.jsx)("li",{onClick:function(){return a(2)},className:"select-page-btns__page-num",children:n+2}),1===n?Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)("li",{onClick:function(){return a(3)},className:"select-page-btns__page-num",children:n+3}),Object(Ne.jsx)("li",{onClick:function(){return a(4)},className:"select-page-btns__page-num",children:n+4})]}):2===n?Object(Ne.jsx)("li",{onClick:function(){return a(3)},className:"select-page-btns__page-num",children:n+3}):""]}),Object(Ne.jsx)("div",{class:"users-page__body",children:r.map((function(e){return Object(Ne.jsx)(tt,{id:e.id,fullname:e.fullname,location:e.location,status:e.status,followed:e.followed,avatar:e.avatar,follow:function(){return i(e.id)},unfollow:function(){return c(e.id)},followingInProgressState:function(){return s.some((function(t){return t===e.id}))||!o}},e.id)}))})]})]})})},nt=function(e){Object(Ke.a)(r,e);var t=Object(Xe.a)(r);function r(){var e;Object($e.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).selectPage=function(t){e.props.setCurrentPage(e.props.currentPage+t),e.props.getUsersThuckCreator(e.props.currentPage+t,e.props.pageSize)},e}return Object(Ye.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsersThuckCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(Ne.jsx)(rt,{isAuth:this.props.isAuth,isFetching:this.props.isFetching,currentPage:this.props.currentPage,users:this.props.users,totalUsersCount:this.props.totalUsersCount,follow:this.props.follow,unfollow:this.props.unfollow,selectPage:this.selectPage,followingInProgress:this.props.followingInProgress,followingInProgressState:this.props.followingInProgressState,unfollowThunkCreator:this.props.unfollowThunkCreator,followThunkCreator:this.props.followThunkCreator})}}]),r}(a.a.Component),at=function(e){return e.UsersPage.users},st=function(e){return e.UsersPage.pageSize},ct=function(e){return e.UsersPage.totalUsersCount},it=function(e){return e.UsersPage.currentPage},ot=function(e){return e.UsersPage.isFetchingData},ut=function(e){return e.UsersPage.followingInProgressState},lt={fetching:ce,setUsers:ue,setCurrentPage:function(e){return{type:ee,page:e}},followingInProgress:se,getUsersThuckCreator:function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(n){var a;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(ce()),r.next=3,g.requestUsersData(e,t);case 3:return a=r.sent,r.next=6,n(ue(a.items.map((function(e){return{id:e.id,fullname:e.name,location:{contry:"Russia",city:"Moscow"},status:e.status,followed:e.followed,avatar:e.photos.small}}))));case 6:n({type:re});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},unfollowThunkCreator:function(e){return function(t){le(e,"unfollow",t)}},followThunkCreator:function(e){return function(t){le(e,"follow",t)}}},dt=Object(i.d)(Object(c.b)((function(e){return{users:at(e),pageSize:st(e),currentPage:it(e),totalUsersCount:ct(e),isFetching:ot(e),followingInProgressState:ut(e),isAuth:e.Auth.isAuth}}),lt),We)(nt),jt=r.p+"static/media/vk.9ce56e3f.svg",bt=r.p+"static/media/youtube.6035ccee.svg",ht=r.p+"static/media/facebook.4aeb301d.svg",pt=r.p+"static/media/twitter.51480627.svg",ft=r.p+"static/media/github.4e195a3b.svg",mt=r.p+"static/media/instagram.787b1447.svg",gt=r.p+"static/media/upload.11c6748a.svg",Ot=(r(272),r(50)),xt=r(22);r(290);function vt(e){var t=e.name,r=e.className;return Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)(Ot.a,{name:t,children:function(e){var t=e.field;return Object(Ne.jsx)("input",Object(j.a)({type:"checkbox",className:r,checked:t.value},t))}})})}var _t=function(e){var t=e.contacts,r=e.className,n=e.contactClassName,a=e.values,s=e.errors,c=e.handleChange,i=e.handleBlur,o=e.touched;return Object(Ne.jsx)("div",{class:!0,className:r,children:Object.keys(t).filter((function(e){return"website"!==e&&"mainLink"!==e})).map((function(e){return Object(Ne.jsx)("div",{children:Object(Ne.jsx)(kt,{className:n,forForm:!0,icon:wt[e],link:t[e],name:e,children:Object(Ne.jsx)("div",{class:"prof-form-item__field",children:Object(Ne.jsx)(Be,{value:a.contacts[e],onChange:c,onBlur:i,error:s[e],touched:o[e],name:"contacts.".concat(e),placeholder:"".concat(e),isHorizontal:!0,isInput:!0})})})},e)}))})},Ft=Object(c.b)((function(e){return{}}),{updateProfInfo:function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(W(!0)),r.prev=1,r.next=4,m.updateProfInfo(Object(j.a)(Object(j.a)({},e),{},{userId:t}));case 4:return r.next=6,n(R(e));case 6:r.next=11;break;case 8:throw r.prev=8,r.t0=r.catch(1),new Error;case 11:return r.prev=11,n(W(!1)),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.aboutMe,r=e.contacts,n=e.lookingForAJob,a=e.lookingForAJobDescription,s=e.fullName,c=e.onSave,i=e.userId,o=e.updateProfInfo,u=function(){var e=Object(d.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t,r);case 3:c(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),b=/^((https?|ftp):\/\/)?(www.)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,h=xt.a().shape({FullName:xt.b().max(20,"Max length 20").required("Name required!"),vk:xt.b().matches(b,"Enter a valid url"),youtube:xt.b().matches(b,"Enter a valid url"),facebook:xt.b().matches(b,"Enter a valid url"),twitter:xt.b().matches(b,"Enter a valid url"),github:xt.b().matches(b,"Enter a valid url"),instagram:xt.b().matches(b,"Enter a valid url")});return Object(Ne.jsx)(Ot.b,{initialValues:{mainLink:r.mainLink||"",website:r.website||"",FullName:s,AboutMe:t||"",lookingForAJob:n,LookingForAJobDescription:a||"",contacts:{vk:r.vk||"",youtube:r.youtube||"",facebook:r.facebook||"",twitter:r.twitter||"",github:r.github||"",instagram:r.instagram||""}},validateOnBlur:!0,onSubmit:function(e){var t=Object(j.a)(Object(j.a)({},e),{},{userId:i});for(var r in t)""===t[r]&&(t[r]=null);for(var n in t.contacts)""===t.contacts[n]&&(t.contacts[n]=null);u(t,i)},validationSchema:h,children:function(e){var t=e.values,n=e.errors,a=e.touched,s=e.handleChange,c=e.handleBlur,i=e.isValid,o=e.handleSubmit;return Object(Ne.jsxs)("form",{onSubmit:o,class:"profile-head-form",children:[Object(Ne.jsx)("div",{class:"profile-head-form__fullname",children:Object(Ne.jsx)(Be,{error:n.FullName,touched:a.FullName,value:t.FullName,onChange:s,onBlur:c,name:"FullName",placeholder:"Fullname",isInput:!0})}),Object(Ne.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(Ne.jsx)("b",{class:"prof-form-item__title",children:"About me:"}),Object(Ne.jsx)("div",{class:"prof-form-item__field",children:Object(Ne.jsx)(Be,{value:t.AboutMe,onChange:s,onBlur:c,name:"AboutMe",placeholder:"About yourself"})})]}),Object(Ne.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(Ne.jsx)("b",{class:"prof-form-item__title",children:"Are you looking for a job now?"}),Object(Ne.jsx)(vt,{className:"prof-form-item__check-box",name:"lookingForAJob"})]}),Object(Ne.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(Ne.jsx)("b",{class:"prof-form-item__title",children:"About work: "}),Object(Ne.jsx)("div",{class:"prof-form-item__field",children:Object(Ne.jsx)(Be,{value:t.LookingForAJobDescription,onChange:s,onBlur:c,name:"LookingForAJobDescription",placeholder:"About your work"})})]}),Object(Ne.jsx)(_t,{values:t,errors:n,handleChange:s,handleBlur:c,touched:a,className:"prof-form-item__contacts",contactClassName:"prof-form-item__contact",contacts:r}),Object(Ne.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(Ne.jsx)("b",{class:"prof-form-item__title",children:"My Website:"}),Object(Ne.jsx)("div",{class:"prof-form-item__field",children:Object(Ne.jsx)(Be,{value:t.website,onChange:s,onBlur:c,name:"website",placeholder:"My Website",isInput:!0})})]}),Object(Ne.jsxs)("div",{class:"profile-head-form__item prof-form-item",children:[Object(Ne.jsx)("b",{class:"prof-form-item__title",children:"Main link:"}),Object(Ne.jsx)("div",{class:"prof-form-item__field",children:Object(Ne.jsx)(Be,{value:t.mainLink,onChange:s,onBlur:c,name:"mainLink",placeholder:"Main link",isInput:!0})})]}),Object(Ne.jsx)("button",{disabled:!i,type:"submit",class:"profile-head-form__submit prof-head__edit-btn",children:"Save"})]})}})})),wt={vk:jt,youtube:bt,facebook:ht,twitter:pt,github:ft,instagram:mt},yt=function(e){var t=e.isMyProfile,r=e.updateUserStatus,n=a.a.useState(!1),s=Object(o.a)(n,2),c=s[0],i=s[1],u=a.a.useState(e.status),l=Object(o.a)(u,2),d=l[0],j=l[1];a.a.useEffect((function(){j(e.status)}),[e.status]);var b=function(){i(!c)};return Object(Ne.jsxs)("div",{onDoubleClick:b,class:"prof-head__about",children:[Object(Ne.jsx)("b",{children:"Status: "}),Object(Ne.jsx)(Ne.Fragment,{children:t&&c?Object(Ne.jsx)("input",{autoFocus:!0,onFocus:function(e){e.target.select()},onBlur:function(t){b(),t.currentTarget.value!==e.status&&r(d)},value:d,onChange:function(e){j(e.target.value)},className:"prof-head__about-input"}):Object(Ne.jsx)("span",{class:"prof-head__about-text",children:d})})]})},kt=function(e){var t=e.icon,r=e.link,n=e.name,a=e.forForm,s=e.children,c=e.className;return Object(Ne.jsx)("div",{class:c,children:a?Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)("div",{children:Object(Ne.jsx)("img",{draggable:!1,src:t,alt:n})}),s]}):Object(Ne.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"http"==(null===r||void 0===r?void 0:r.substr(0,4))?r:"http://"+r,children:Object(Ne.jsx)("img",{draggable:!1,src:t,alt:n})})})},At=function(e){var t=e.contacts,r=e.forForm,n=void 0!==r&&r,a=e.contactChild,s=e.className,c=e.contactClassName;return Object(Ne.jsx)("div",{class:!0,className:s,children:t&&Object.keys(t).filter((function(e){return"website"!==e&&"mainLink"!==e})).map((function(e){if(t[e]||n)return Object(Ne.jsx)("div",{children:Object(Ne.jsx)(kt,{className:c,forForm:n,icon:wt[e],link:t[e],name:e,children:a})},e)}))})},St=function(e){var t=e.contacts,r=e.forForm,n=void 0!==r&&r;return Object(Ne.jsx)(At,{contacts:t,contactClassName:"prof-head__contact",className:"prof-head__contacts ".concat(n&&"prof-contacts-in-form")})},Nt=function(e){var t=e.aboutMe,r=e.contacts,n=e.lookingForAJob,a=e.lookingForAJobDescription,s=e.fullName,c=(e.userId,e.photos,e.isAuth,e.isMyProfile),i=e.updateUserStatus,o=(e.updateAvatar,e.status);e.toggleSetFetching;return Object(Ne.jsxs)("div",{class:"prof-head__info",children:[Object(Ne.jsxs)("div",{class:"prof-head__fullname",children:[Object(Ne.jsx)("b",{children:s}),c&&Object(Ne.jsx)("button",{onClick:function(){return e.setEditMode(!0)},class:"prof-head__edit-btn",children:"Edit profile"})]}),Object(Ne.jsx)(yt,{updateUserStatus:i,status:o,isMyProfile:c}),Object(Ne.jsxs)("div",{children:["about me: ",Object(Ne.jsx)("i",{children:t})]}),Object(Ne.jsxs)("div",{class:"prof-head__look-job",children:[Object(Ne.jsx)("b",{children:"\u0417\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u044c: "}),n?"\u041e\u0442\u043a\u0440\u044b\u0442 \u0434\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439":"\u0420\u0430\u0431\u043e\u0442\u0430\u044e",Object(Ne.jsxs)("div",{class:"prof-head__look-job-desc",children:[Object(Ne.jsx)("b",{children:"Description: "}),a]})]}),Object(Ne.jsx)(St,{contacts:r}),Object(Ne.jsxs)("div",{class:"prof-head__my-site",children:[(null===r||void 0===r?void 0:r.website)&&Object(Ne.jsx)("a",{class:"prof-head__contact",target:"_blank",href:"".concat(r.website),children:"My Website"}),Object(Ne.jsx)("hr",{}),(null===r||void 0===r?void 0:r.mainLink)&&Object(Ne.jsx)("a",{class:"prof-head__contact",target:"_blank",href:"".concat(r.mainLink),children:"Main link"})]})]})},Ct=function(e){return Object(Ne.jsx)("div",{class:"prof-head__info prof-head-info-form",children:Object(Ne.jsx)(Ft,Object(j.a)({onSave:function(){e.setEditMode(!1)}},e))})},Dt=function(e){var t=e.photos,r=e.isMyProfile,n=e.updateAvatar,s=a.a.useState(!1),c=Object(o.a)(s,2),i=c[0],u=c[1];return Object(Ne.jsx)("div",{class:"prof-head",children:Object(Ne.jsxs)("div",{class:"prof-head__body",children:[Object(Ne.jsxs)("div",{class:"prof-head__image",children:[t?Object(Ne.jsx)("img",{src:t.large}):"",r&&Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsxs)("label",{class:"prof-head__file-upload",children:[Object(Ne.jsx)("input",{onChange:function(e){0!==e.target.files.length&&n(e.target.files[0])},type:"file"}),Object(Ne.jsx)("img",{src:gt,alt:"upload"})]})})]}),i&&r?Object(Ne.jsx)(Ct,Object(j.a)(Object(j.a)({},e),{},{setEditMode:u})):Object(Ne.jsx)(Nt,Object(j.a)(Object(j.a)({},e),{},{setEditMode:u}))]})})},Pt=(r(291),function(e){return Object(Ne.jsx)("div",{class:"profile",children:Object(Ne.jsx)("div",{class:"profile__grid",children:Object(Ne.jsx)(Dt,Object(j.a)(Object(j.a)({},e.userProfileData),{},{status:e.status,updateUserStatus:e.updateUserStatus,updateAvatar:e.updateAvatar,isMyProfile:e.isMyProfile,isAuth:e.isAuth,toggleSetFetching:e.toggleSetFetching}))})})}),Et=function(e){Object(Ke.a)(r,e);var t=Object(Xe.a)(r);function r(){return Object($e.a)(this,r),t.apply(this,arguments)}return Object(Ye.a)(r,[{key:"refreshProfile",value:function(){this.props.getUserPersonDataThunkCreator(this.props.match.params.userId),this.props.getUserStatus(this.props.match.params.userId)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(et,{loading:this.props.Profile.isFetching}),Object(Ne.jsx)(Pt,{toggleSetFetching:this.props.toggleSetFetching,updateAvatar:this.props.updateAvatarTC,updateUserStatus:this.props.updateUserStatus,userProfileData:this.props.Profile.userProfileData,status:this.props.Profile.status,isAuth:this.props.isAuth,isMyProfile:this.props.myId==this.props.match.params.userId})]})}}]),r}(a.a.Component),It={getUserPersonDataThunkCreator:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(W(!0)),t.prev=1,t.next=4,m.requestProfileData(e);case 4:n=t.sent,r(R(n)),r(W(!1)),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(W(!0)),t.prev=1,n=m.requestProfileStatus,t.next=5,n(e);case 5:a=t.sent,r(J(a)),r(W(!1)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(W(!0)),t.prev=1,t.next=4,m.updateProfileStatus(e);case 4:r(J(e)),r(W(!1)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},updateAvatarTC:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(W(!0)),t.prev=1,t.next=4,m.uploadAvatar(e);case 4:return n=t.sent,t.next=7,r(H(n));case 7:r(W(!1)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[1,10,12,14]])})));return function(e){return t.apply(this,arguments)}}()},toggleSetFetching:W},Tt=Object(i.d)(Object(c.b)((function(e){return{Profile:e.Profile}}),It),We,Se.g)(Et),Mt=(r(292),function(e){var t=e.onSubmitLogin,r=e.captchaUrl,n=xt.a().shape({login:xt.b().email("Invalid email").max(30,"Too Long!").required("Is required!"),password:xt.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(5,"Too Short!").max(20,"Too Long!").required("Is required!"),captcha:xt.b()});return Object(Ne.jsx)(Ot.b,{initialValues:{login:"",password:"",remeberMe:!1,captcha:""},validateOnBlur:!0,onSubmit:function(e){return t(e)},validationSchema:n,children:function(e){var t=e.values,n=e.errors,a=e.touched,s=e.handleChange,c=e.handleBlur,i=e.isValid,o=e.handleSubmit,u=e.dirty;return Object(Ne.jsxs)("form",{onSubmit:o,class:"login__form",children:[Object(Ne.jsx)("div",{class:"login__input-login",children:Object(Ne.jsx)(Be,{value:t.login,onChange:s,onBlur:c,error:n.login,touched:a.login,name:"login",type:"text",placeholder:"login",isHorizontal:!0,isInput:!0})}),Object(Ne.jsx)("div",{class:"login__input-password",children:Object(Ne.jsx)(Be,{value:t.password,onChange:s,onBlur:c,error:n.password,touched:a.password,name:"password",type:"password",placeholder:"password",isHorizontal:!0,isInput:!0})}),Object(Ne.jsxs)("div",{class:"login__remember-me",children:[Object(Ne.jsx)(vt,{name:"rememberMe"}),"remember me"]}),r&&Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)("div",{class:"login__captcha",children:Object(Ne.jsx)("img",{class:"login__captcha-img",src:r,alt:"captcha"})}),Object(Ne.jsx)("div",{class:"login__input-password input-captcha",children:Object(Ne.jsx)(Be,{onBlur:c,value:t.captcha,onChange:s,name:"captcha",placeholder:"captcha",isHorizontal:!0,isInput:!0})})]}),Object(Ne.jsx)("button",{disabled:!i||!u,type:"submit",class:"login-btn",children:"Sign-in"}),Object(Ne.jsx)("hr",{}),"login for test:"," ",Object(Ne.jsx)("strong",{children:"alexey.frontend.dev@gmail.com"}),"password for test: ",Object(Ne.jsx)("strong",{children:"testpassword"})]})}})}),Ut=Object(c.b)((function(e){return{isAuth:e.Auth.isAuth,authError:e.Auth.authError,captcha:e.Auth.captcha}}),{loginThunkCreator:function(e,t,r,n){return function(){var e=Object(d.a)(l.a.mark((function e(t){var r,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(w(!0)),t(k(null));try{t(S())}catch(s){r=Object(o.a)(s,2),n=r[0],a=r[1],t(k(a)),10===n&&t(function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getCaptcha();case 2:r=e.sent,t(y(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}t(w(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logoutThunkCreator:N})((function(e){var t=e.captcha,r=e.authError,n=e.loginThunkCreator;return Object(Ne.jsxs)("div",{class:"login",children:[Object(Ne.jsx)("h1",{class:"login__title",children:"Login"}),Object(Ne.jsx)(Mt,{captchaUrl:t,onSubmitLogin:function(e){var t=e.login,r=e.password,a=e.remeberMe,s=e.captcha;n(t,r,a,s)}}),Object(Ne.jsx)("div",{className:"login__error-label",children:r}),Object(Ne.jsxs)("div",{className:"login__balls login-balls",children:[Object(Ne.jsx)("div",{className:"login-balls__ball1"}),Object(Ne.jsx)("div",{className:"login-balls__ball2"})]})]})})),Lt=(r(293),Object(c.b)((function(e){return{initialized:e.App.initialize,isAuth:e.Auth.isAuth}}),{initializeApp:function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t(S()),e.next=3,Promise.all([r]);case 3:t({type:be});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.initialized,r=e.initializeApp,a=e.isAuth;return Object(n.useEffect)(r,[r]),Object(Ne.jsx)(Ae.a,{children:Object(Ne.jsxs)("div",{class:"app",children:[Object(Ne.jsx)(et,{loading:!t}),Object(Ne.jsx)(De,{className:r&&"started-header"}),a&&Object(Ne.jsx)(Pe,{}),Object(Ne.jsx)("div",{class:"app__content",children:a?Object(Ne.jsxs)(Se.d,{children:[Object(Ne.jsx)(Se.b,{path:"/profile/:userId?",render:function(){return Object(Ne.jsx)(Tt,{})}}),Object(Ne.jsx)(Se.b,{path:"/dialogs",exact:!0,render:function(){return Object(Ne.jsx)(Ve,{})}}),Object(Ne.jsx)(Se.b,{path:"/users",exact:!0,render:function(){return Object(Ne.jsx)(dt,{})}}),Object(Ne.jsx)(Se.b,{path:"/news",exact:!0,render:function(){return Object(Ne.jsx)(Te,{})}}),Object(Ne.jsx)(Se.a,{to:"/news"})]}):Object(Ne.jsxs)(Se.d,{children:[Object(Ne.jsx)(Se.b,{path:"/login",render:function(){return Object(Ne.jsx)(Ut,{})}}),Object(Ne.jsx)(Se.a,{to:"/login"})]})})]})})})));Object(s.render)(Object(Ne.jsx)(c.a,{store:ke,children:Object(Ne.jsx)(Lt,{})}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.fd4520a3.chunk.js.map